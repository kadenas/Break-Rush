#!/bin/sh
# Abort commit when binary files are staged.
set -eu
BINARY_FILES=$(git diff --cached --numstat | awk '$1 == "-" || $2 == "-" {print $3}')
if [ -n "$BINARY_FILES" ]; then
  echo "Error: Se detectaron archivos binarios en el commit:" >&2
  echo "$BINARY_FILES" >&2
  echo "El repositorio de Break Rush no admite binarios. Usa generadores en build." >&2
  exit 1
fi
exit 0
